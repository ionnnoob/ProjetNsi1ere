<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="Styles/p.css">
    <link rel="stylesheet" type="text/css" href="Styles/QuizzesStyle.css">
    <script type="text/javascript" src="Scripts/qcm.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            text-align: center;
            background: #020b2d;
        }
        #questionnaire-container{
            border: 2px solid #000;
            background-color: rgb(255, 255, 255);
            padding: 10px;
            width: 400px;
            margin: auto;
            height: 650px;
            max-width: 400px; 
            width: 100%; 
            margin-top: 100px;
            color: rgb(0, 0, 0)
        }
        .question {
            margin-bottom: 20px;
        }
        button {
            padding: 10px;
            cursor: pointer;
        }
        a{
          text-decoration: none;
        }
        label {
        cursor: s-resize;
        color:white;
      } 
    </style>
</head>
<div>
  <div class="animated-box box1"> 
     <a href="index.html" class="buttonlink1" style="background:#27805f;">Accueil</a>
     <a></a>
     <a href = "inscription.html" class="buttonlink1" style="left:92%;background-color: #27805f;    vertical-align: middle;" >S'Inscrire</a>
 </div>
</div>
<div class="qcm"id="questionnaire-container">
  <h1>Questionnaire</h1>
  <form id="qcm-form">
    <!-- Question 1 -->
<!--copy & paste everything between this and the next "copy & paste" to create a new question with four possible answers(make sure to add it to JS to make it responsive)-->
    <div class="question">
      <p>Combien de personnes ont travaillées sur ce site magnifique</p>
      <label>
      	<!-- can change value and text to make the actual QCM -->
        <input type="radio" name="q1" value="1"> 1
        <input type="radio" name="q1" value="1"> 4
      </label>
      <label>
        <input type="radio" name="q1" value="2"> 2
      </label>
      <label>
        <input type="radio" name="q1" value="3"> 3
      </label>
    </div>
<!--copy & paste-->
    <!-- Question 2 -->
    <div class="question">
      <p>Combien de présidents de la républiques différents pendant la Ve République en France</p>
      <label>
        <input type="radio" name="q2" value="1"> 6
      </label>
      <label>
        <input type="radio" name="q2" value="2"> 7
      </label>
      <label>
        <input type="radio" name="q2" value="3"> 8
      </label>
      <label>
        <input type="radio" name="q2" value="4"> 9
      </label>
    </div>
 
    <button type="button" id="resetBtn">Réinitialiser</button>
  <a href="resultat.html" onclick="submitForm()">
      <button type="button" id="submitBtn">Valider vos réponses</button>
    </a>
<button type="button" onclick="correctionForm()">Voir le Corrigé</button>
  </form>
  
 
</div>
<script type="text/javascript">
  document.addEventListener('DOMContentLoaded', function() {
   function submitForm() {
const form = document.getElementById('qcm-form');
// Get the selected values
const q1Answer = document.querySelector('input[name="q1"]:checked');
const q2Answer = document.querySelector('input[name="q2"]:checked');
// Log the selected values for debugging
console.log('q1Answer:', q1Answer ? q1Answer.value : null);
console.log('q2Answer:', q2Answer ? q2Answer.value : null);
// Check if both questions are answered
if (q1Answer && q2Answer) {
 // Store the answers in localStorage
 localStorage.setItem('q1Answer', q1Answer.value);
 localStorage.setItem('q2Answer', q2Answer.value);
 // Uncomment the following lines to redirect to resultat.html
 const url = `resultat.html?q1Answer=${q1Answer.value}&q2Answer=${q2Answer.value}`;
 window.location.href = url;
} else {
 // Alert user to answer all questions
 alert('Veuillez répondre à toutes les questions avant de voir les résultats.');
}
}
function abortForm() {
      const form = document.getElementById('qcm-form');
      form.reset();
      // Clear the data in localStorage
      localStorage.removeItem('q1Answer');
      localStorage.removeItem('q2Answer');
    }
    document.getElementById('submitBtn').addEventListener('click', submitForm);
    document.getElementById('resetBtn').addEventListener('click', abortForm);
  });
function correctionForm(){
 window.location.href = 'Correction.html';
}
</script>
</html>
